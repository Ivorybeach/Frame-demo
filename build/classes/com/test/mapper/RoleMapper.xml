<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.test.mapper.RoleMapper">
	
	<!-- 开启二级缓存 -->
	<cache></cache>
	
	<!-- resultMap映射结果集
	resultMap的主要作用在于提供级联(assoation,collection)支持和typeHandler支持 -->
	
	
	<select id="findRole" parameterType="map" resultType="com.test.pojo.Role">
		select * from t_role where roleName = #{roleName} and note=#{note}
	</select>
	
	<!-- 主键回填
	在自增主键情况下，不需要设置id参数，使用主键回填后可以获取到自增的主键，方便在下一步的业务中应用
	useGeneratedKeys开启主键回填，默认为false，keyProperty指定回填到的pojo属性-->
	<insert id="insertRole" parameterType="com.test.pojo.Role" useGeneratedKeys="true" keyProperty="id">
		insert into t_role(id,roleName,note) values(#{id},#{roleName},#{note})
	</insert>

</mapper>